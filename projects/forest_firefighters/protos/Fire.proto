#VRML_SIM R2021b utf8
# license: Creative Commons Attribution 4.0 International License.
# license url: https://creativecommons.org/licenses/by/4.0/legalcode
# A fire with flame animation

PROTO Fire [
  field SFVec3f    translation       0 0 0
  field SFRotation rotation          0 0 1 0
  field SFVec3f    scale             1 1 1
]
{
  Transform {
    translation IS translation
    rotation IS rotation
    scale IS scale
    children [
      DEF FLAME Shape {
        appearance DEF FLAME_APPEARANCE PBRAppearance {
          baseColorMap ImageTexture {
            url [
              "textures/animation/fire1_01.png"
            ]
            repeatS FALSE
            repeatT FALSE
          }
          transparency 0.2
          metalness 0.5
          IBLStrength 10
        }
        geometry IndexedFaceSet {
          coord Coordinate {
            point [
              -0.5 0 0
              0.5 0 0
              0.5 1 0
              -0.5 1 0
              0 0 -0.5
              0 0 0.5
              0 1 0.5
              0 1 -0.5
            ]
          }
          texCoord TextureCoordinate {
            point [
              0 0
              1 0
              0 1
              1 1
              0 0
              1 0
              0 1
              1 1
            ]
          }
          coordIndex [
            0, 1, 2, 3, -1, 3, 2, 1, 0, -1
            4, 5, 6, 7, -1, 7, 6, 5, 4, -1
          ]
          texCoordIndex [
            0, 1, 3, 2, -1, 2, 3, 1, 0, -1
            4, 5, 7, 6, -1, 6, 7, 5, 4, -1
          ]
        }
      }
    ]
  }
}
